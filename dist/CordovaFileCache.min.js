var CordovaFileCache=function(t){function e(r){if(o[r])return o[r].exports;var n=o[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,o){!function(o,r){"use strict";function n(t,e){return(65535&t)*e+(((t>>>16)*e&65535)<<16)}function a(t,e){return t<<e|t>>>32-e}function c(t){return t^=t>>>16,t=n(t,2246822507),t^=t>>>13,t=n(t,3266489909),t^=t>>>16}var i={version:"2.1.2"};i.hash32=function(t,e){t=t||"",e=e||0;for(var o=t.length%4,r=t.length-o,i=e,h=0,s=3432918353,d=461845907,u=0;u<r;u+=4)h=255&t.charCodeAt(u)|(255&t.charCodeAt(u+1))<<8|(255&t.charCodeAt(u+2))<<16|(255&t.charCodeAt(u+3))<<24,h=n(h,s),h=a(h,15),h=n(h,d),i^=h,i=a(i,13),i=n(i,5)+3864292196;switch(h=0,o){case 3:h^=(255&t.charCodeAt(u+2))<<16;case 2:h^=(255&t.charCodeAt(u+1))<<8;case 1:h^=255&t.charCodeAt(u),h=n(h,s),h=a(h,15),h=n(h,d),i^=h}return i^=t.length,(i=c(i))>>>0},i.hash128=function(t,e){t=t||"",e=e||0;for(var o=t.length%16,r=t.length-o,i=e,h=e,s=e,d=e,u=0,l=0,f=0,p=0,_=597399067,v=2869860233,g=951274213,C=2716044179,A=0;A<r;A+=16)u=255&t.charCodeAt(A)|(255&t.charCodeAt(A+1))<<8|(255&t.charCodeAt(A+2))<<16|(255&t.charCodeAt(A+3))<<24,l=255&t.charCodeAt(A+4)|(255&t.charCodeAt(A+5))<<8|(255&t.charCodeAt(A+6))<<16|(255&t.charCodeAt(A+7))<<24,f=255&t.charCodeAt(A+8)|(255&t.charCodeAt(A+9))<<8|(255&t.charCodeAt(A+10))<<16|(255&t.charCodeAt(A+11))<<24,p=255&t.charCodeAt(A+12)|(255&t.charCodeAt(A+13))<<8|(255&t.charCodeAt(A+14))<<16|(255&t.charCodeAt(A+15))<<24,u=n(u,_),u=a(u,15),u=n(u,v),i^=u,i=a(i,19),i+=h,i=n(i,5)+1444728091,l=n(l,v),l=a(l,16),l=n(l,g),h^=l,h=a(h,17),h+=s,h=n(h,5)+197830471,f=n(f,g),f=a(f,17),f=n(f,C),s^=f,s=a(s,15),s+=d,s=n(s,5)+2530024501,p=n(p,C),p=a(p,18),p=n(p,_),d^=p,d=a(d,13),d+=i,d=n(d,5)+850148119;switch(u=0,l=0,f=0,p=0,o){case 15:p^=t.charCodeAt(A+14)<<16;case 14:p^=t.charCodeAt(A+13)<<8;case 13:p^=t.charCodeAt(A+12),p=n(p,C),p=a(p,18),p=n(p,_),d^=p;case 12:f^=t.charCodeAt(A+11)<<24;case 11:f^=t.charCodeAt(A+10)<<16;case 10:f^=t.charCodeAt(A+9)<<8;case 9:f^=t.charCodeAt(A+8),f=n(f,g),f=a(f,17),f=n(f,C),s^=f;case 8:l^=t.charCodeAt(A+7)<<24;case 7:l^=t.charCodeAt(A+6)<<16;case 6:l^=t.charCodeAt(A+5)<<8;case 5:l^=t.charCodeAt(A+4),l=n(l,v),l=a(l,16),l=n(l,g),h^=l;case 4:u^=t.charCodeAt(A+3)<<24;case 3:u^=t.charCodeAt(A+2)<<16;case 2:u^=t.charCodeAt(A+1)<<8;case 1:u^=t.charCodeAt(A),u=n(u,_),u=a(u,15),u=n(u,v),i^=u}return i^=t.length,h^=t.length,s^=t.length,d^=t.length,i+=h,i+=s,i+=d,h+=i,s+=i,d+=i,i=c(i),h=c(h),s=c(s),d=c(d),i+=h,i+=s,i+=d,h+=i,s+=i,d+=i,("00000000"+(i>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(s>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)},void 0!==t&&t.exports&&(e=t.exports=i),e.murmurHash3=i}()},function(t,e,o){function r(t){var e=this;if(this._fs=t.fs,!this._fs)throw new Error('Missing required option "fs". Add an instance of cordova-promise-fs.');a=this._fs.Promise,this._mirrorMode="hash"!==t.mode,this._retry=t.retry||[500,1500,8e3],this._cacheBuster=!!t.cacheBuster,this.localRoot=this._fs.normalize(t.localRoot||"data"),this.serverRoot=this._fs.normalize(t.serverRoot||""),this._downloading=[],this._added=[],this._cached={},this.ready=this._fs.ensure(this.localRoot).then(function(t){return e.localInternalURL="function"==typeof t.toInternalURL?t.toInternalURL():t.toURL(),e.localUrl=t.toURL(),e.list()})}var n=o(0).hash128,a=null;r.hash=n,r.prototype.getCached=function(){return this._cached},r.prototype.list=function(){var t=this;return new a(function(e,o){t._fs.list(t.localRoot,"rfe").then(function(o){t._cached={},o=o.map(function(e){var o=t._fs.normalize(e.fullPath);return t._cached[o]={toInternalURL:"function"==typeof e.toInternalURL?e.toInternalURL():e.toURL(),toURL:e.toURL()},o}),e(o)},function(){e([])})})},r.prototype.add=function(t){t||(t=[]),"string"==typeof t&&(t=[t]);var e=this;return t.forEach(function(t){t=e.toServerURL(t),-1===e._added.indexOf(t)&&e._added.push(t)}),e.isDirty()},r.prototype.remove=function(t,e){t||(t=[]);var o=[];"string"==typeof t&&(t=[t]);var r=this;return t.forEach(function(t){var e=r._added.indexOf(r.toServerURL(t));e>=0&&r._added.splice(e,1);var n=r.toPath(t);o.push(r._fs.remove(n)),delete r._cached[n]}),e?a.all(o):r.isDirty()},r.prototype.getDownloadQueue=function(){var t=this;return t._added.filter(function(e){return!t.isCached(e)})},r.prototype.getAdded=function(){return this._added},r.prototype.isDirty=function(){return this.getDownloadQueue().length>0},r.prototype.download=function(t,e){var o=this._fs,r=this;return e=e||!1,r.abort(),new a(function(n,a){o.ensure(r.localRoot).then(function(){return r.list()}).then(function(){if(!r.isDirty())return void n(r);var c=r.getDownloadQueue(),i=r._downloading.length,h=r._downloading.length+c.length,s=0,d=[];c.forEach(function(c){var u,l=r.toPath(c);"function"==typeof t&&(u=function(e){e.queueIndex=i,e.queueSize=h,e.url=c,e.path=l,e.percentage=i/h,e.loaded>0&&e.total>0&&i!==h&&(e.percentage+=e.loaded/e.total/h),e.percentage=Math.max(s,e.percentage),s=e.percentage,t(e)});var f=function(){i++,u&&u(new ProgressEvent),i===h&&(r._downloading=[],r.list().then(function(){r.isDirty()||0!==d.length?a(d):n(r)},a))},p=function(t){t&&t.target&&t.target.error&&(t=t.target.error),d.push(t),f()},_=c;r._cacheBuster&&(_+="?"+Date.now());var v=o.download(_,l,{retry:r._retry},e&&u?u:void 0);v.then(f,p),r._downloading.push(v)})},a)})},r.prototype.abort=function(){this._downloading.forEach(function(t){t.abort()}),this._downloading=[]},r.prototype.isCached=function(t){return t=this.toPath(t),!!this._cached[t]},r.prototype.clear=function(){var t=this;return this._cached={},this._fs.removeDir(this.localRoot).then(function(){return t._fs.ensure(t.localRoot)})},r.prototype.toInternalURL=function(t){var e=this.toPath(t);return this._cached[e]?this._cached[e].toInternalURL:t},r.prototype.get=function(t){var e=this.toPath(t);return this._cached[e]?this._cached[e].toURL:this.toServerURL(t)},r.prototype.toDataURL=function(t){return this._fs.toDataURL(this.toPath(t))},r.prototype.toURL=function(t){var e=this.toPath(t);return this._cached[e]?this._cached[e].toURL:t},r.prototype.toServerURL=function(t){var t=this._fs.normalize(t);return t.indexOf("://")<0?this.serverRoot+t:t},r.prototype.toPath=function(t){if(this._mirrorMode){var e=t.indexOf("?");e>-1&&(t=t.substr(0,e)),t=this._fs.normalize(t||"");var o=this.serverRoot.length;return t.substr(0,o)!==this.serverRoot?this.localRoot+t:this.localRoot+t.substr(o)}var r=t.match(/\.[a-z,0-9]{1,}/g);return r=r?r[r.length-1]:".txt",this.localRoot+n(t)+r},t.exports=r}]);